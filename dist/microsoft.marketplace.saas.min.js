!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@azure/core-http")):"function"==typeof define&&define.amd?define(["exports","@azure/core-http"],t):t(e.MicrosoftMarketplaceSaas={},e.coreHttp)}(this,function(e,a){"use strict";function i(e){var t="function"==typeof Symbol&&Symbol.iterator,r=t&&e[t],i=0;if(r)return r.call(e);if(e&&"number"==typeof e.length)return{next:function(){return{value:(e=e&&i>=e.length?void 0:e)&&e[i++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function d(e){return this instanceof d?(this.v=e,this):new d(e)}function t(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=r.apply(e,t||[]),s=[],n={};return i("next"),i("throw"),i("return"),n[Symbol.asyncIterator]=function(){return this},n;function i(i){a[i]&&(n[i]=function(r){return new Promise(function(e,t){1<s.push([i,r,e,t])||o(i,r)})})}function o(e,t){try{(r=a[e](t)).value instanceof d?Promise.resolve(r.value.v).then(p,m):l(s[0][2],r)}catch(e){l(s[0][3],e)}var r}function p(e){o("next",e)}function m(e){o("throw",e)}function l(e,t){e(t),s.shift(),s.length&&o(s[0][0],s[0][1])}}function s(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,t=n[Symbol.asyncIterator];return t?t.call(n):(n=i(n),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(s){e[s]=n[s]&&function(a){return new Promise(function(e,t){var r,i;a=n[s](a),r=e,e=t,i=a.done,t=a.value,Promise.resolve(t).then(function(e){r({value:e,done:i})},e)})}}}Symbol.asyncIterator||(Symbol.asyncIterator=Symbol.for("Symbol.asyncIterator"));var r={type:{name:"Composite",className:"ResolvedSubscription",modelProperties:{id:{serializedName:"id",type:{name:"Uuid"}},subscriptionName:{serializedName:"subscriptionName",type:{name:"String"}},offerId:{serializedName:"offerId",type:{name:"String"}},planId:{serializedName:"planId",type:{name:"String"}},quantity:{serializedName:"quantity",type:{name:"Number"}},subscription:{serializedName:"subscription",type:{name:"Composite",className:"Subscription"}}}}},n={type:{name:"Composite",className:"Subscription",modelProperties:{id:{serializedName:"id",type:{name:"Uuid"}},publisherId:{serializedName:"publisherId",type:{name:"String"}},offerId:{serializedName:"offerId",type:{name:"String"}},name:{serializedName:"name",type:{name:"String"}},saasSubscriptionStatus:{serializedName:"saasSubscriptionStatus",type:{name:"Enum",allowedValues:["NotStarted","PendingFulfillmentStart","Subscribed","Suspended","Unsubscribed"]}},beneficiary:{serializedName:"beneficiary",type:{name:"Composite",className:"AadIdentifier"}},purchaser:{serializedName:"purchaser",type:{name:"Composite",className:"AadIdentifier"}},planId:{serializedName:"planId",type:{name:"String"}},quantity:{serializedName:"quantity",type:{name:"Number"}},term:{serializedName:"term",type:{name:"Composite",className:"SubscriptionTerm"}},autoRenew:{serializedName:"autoRenew",type:{name:"Boolean"}},isTest:{serializedName:"isTest",type:{name:"Boolean"}},isFreeTrial:{serializedName:"isFreeTrial",type:{name:"Boolean"}},allowedCustomerOperations:{serializedName:"allowedCustomerOperations",type:{name:"Sequence",element:{type:{name:"Enum",allowedValues:["Read","Update","Delete"]}}}},sessionId:{serializedName:"sessionId",type:{name:"Uuid"}},fulfillmentId:{serializedName:"fulfillmentId",type:{name:"Uuid"}},storeFront:{serializedName:"storeFront",type:{name:"String"}},sandboxType:{serializedName:"sandboxType",type:{name:"Enum",allowedValues:["None","Csp"]}},created:{serializedName:"created",type:{name:"DateTime"}},sessionMode:{serializedName:"sessionMode",type:{name:"Enum",allowedValues:["None","DryRun"]}}}}},o={type:{name:"Composite",className:"SubscriptionsResponse",modelProperties:{subscriptions:{serializedName:"subscriptions",type:{name:"Sequence",element:{type:{name:"Composite",className:"Subscription"}}}},nextLink:{serializedName:"@nextLink",type:{name:"String"}}}}},p={type:{name:"Composite",className:"SubscriberPlan",modelProperties:{planId:{serializedName:"planId",type:{name:"String"}},quantity:{serializedName:"quantity",type:{name:"Number"}}}}},m={type:{name:"Composite",className:"SubscriptionPlans",modelProperties:{plans:{serializedName:"plans",type:{name:"Sequence",element:{type:{name:"Composite",className:"Plan"}}}}}}},l={type:{name:"Composite",className:"OperationList",modelProperties:{operations:{serializedName:"operations",type:{name:"Sequence",element:{type:{name:"Composite",className:"Operation"}}}}}}},u={type:{name:"Composite",className:"Operation",modelProperties:{id:{serializedName:"id",type:{name:"Uuid"}},activityId:{serializedName:"activityId",type:{name:"Uuid"}},subscriptionId:{serializedName:"subscriptionId",type:{name:"Uuid"}},offerId:{serializedName:"offerId",type:{name:"String"}},publisherId:{serializedName:"publisherId",type:{name:"String"}},planId:{serializedName:"planId",type:{name:"String"}},quantity:{serializedName:"quantity",type:{name:"Number"}},action:{serializedName:"action",type:{name:"Enum",allowedValues:["Unsubscribe","ChangePlan","ChangeQuantity","Suspend","Reinstate"]}},timeStamp:{serializedName:"timeStamp",type:{name:"DateTime"}},status:{serializedName:"status",type:{name:"Enum",allowedValues:["NotStarted","InProgress","Succeeded","Failed","Conflict"]}}}}},c={type:{name:"Composite",className:"UpdateOperation",modelProperties:{planId:{serializedName:"planId",type:{name:"String"}},quantity:{serializedName:"quantity",type:{name:"Number"}},status:{serializedName:"status",type:{name:"Enum",allowedValues:["Success","Failure"]}}}}},y={type:{name:"Composite",className:"FulfillmentOperationsUpdateSubscriptionHeaders",modelProperties:{operationLocationUri:{serializedName:"operation-location",type:{name:"String"}}}}},b={type:{name:"Composite",className:"FulfillmentOperationsDeleteSubscriptionHeaders",modelProperties:{operationLocationUri:{serializedName:"operation-location",type:{name:"String"}}}}},N=Object.freeze({ResolvedSubscription:r,Subscription:n,AadIdentifier:{type:{name:"Composite",className:"AadIdentifier",modelProperties:{emailId:{serializedName:"emailId",type:{name:"String"}},objectId:{serializedName:"objectId",type:{name:"Uuid"}},tenantId:{serializedName:"tenantId",type:{name:"Uuid"}},puid:{serializedName:"puid",type:{name:"String"}}}}},SubscriptionTerm:{type:{name:"Composite",className:"SubscriptionTerm",modelProperties:{startDate:{serializedName:"startDate",type:{name:"DateTime"}},endDate:{serializedName:"endDate",type:{name:"DateTime"}}}}},SubscriptionsResponse:o,SubscriberPlan:p,SubscriptionPlans:m,Plan:{type:{name:"Composite",className:"Plan",modelProperties:{planId:{serializedName:"planId",type:{name:"String"}},displayName:{serializedName:"displayName",type:{name:"String"}},isPrivate:{serializedName:"isPrivate",type:{name:"Boolean"}},description:{serializedName:"description",type:{name:"String"}},hasFreeTrials:{serializedName:"hasFreeTrials",type:{name:"Boolean"}},isPricePerSeat:{serializedName:"isPricePerSeat",type:{name:"Boolean"}},isStopSell:{serializedName:"isStopSell",type:{name:"Boolean"}},market:{serializedName:"market",type:{name:"String"}},planComponents:{serializedName:"planComponents",type:{name:"Composite",className:"PlanComponents"}}}}},PlanComponents:{type:{name:"Composite",className:"PlanComponents",modelProperties:{recurrentBillingTerms:{serializedName:"recurrentBillingTerms",type:{name:"Sequence",element:{type:{name:"Composite",className:"RecurrentBillingTerm"}}}},meteringDimensions:{serializedName:"meteringDimensions",type:{name:"Sequence",element:{type:{name:"Composite",className:"MeteringDimension"}}}}}}},RecurrentBillingTerm:{type:{name:"Composite",className:"RecurrentBillingTerm",modelProperties:{currency:{serializedName:"currency",type:{name:"String"}},price:{serializedName:"price",type:{name:"Number"}},termUnit:{serializedName:"termUnit",type:{name:"Enum",allowedValues:["P1M","P1Y","P2Y","P3Y"]}},termDescription:{serializedName:"termDescription",type:{name:"String"}},meteredQuantityIncluded:{serializedName:"meteredQuantityIncluded",type:{name:"Sequence",element:{type:{name:"Composite",className:"MeteringedQuantityIncluded"}}}}}}},MeteringedQuantityIncluded:{type:{name:"Composite",className:"MeteringedQuantityIncluded",modelProperties:{dimensionId:{serializedName:"dimensionId",type:{name:"String"}},units:{serializedName:"units",type:{name:"String"}}}}},MeteringDimension:{type:{name:"Composite",className:"MeteringDimension",modelProperties:{id:{serializedName:"id",type:{name:"String"}},currency:{serializedName:"currency",type:{name:"String"}},pricePerUnit:{serializedName:"pricePerUnit",type:{name:"Number"}},unitOfMeasure:{serializedName:"unitOfMeasure",type:{name:"String"}},displayName:{serializedName:"displayName",type:{name:"String"}}}}},OperationList:l,Operation:u,UpdateOperation:c,FulfillmentInternalServerErrorResponse:{type:{name:"Composite",className:"FulfillmentInternalServerErrorResponse",modelProperties:{error:{serializedName:"error",type:{name:"Composite",className:"FulfillmentInternalServerErrorResponseError"}}}}},FulfillmentInternalServerErrorResponseError:{type:{name:"Composite",className:"FulfillmentInternalServerErrorResponseError",modelProperties:{code:{serializedName:"code",type:{name:"String"}},message:{serializedName:"message",type:{name:"String"}}}}},FulfillmentOperationsUpdateSubscriptionHeaders:y,FulfillmentOperationsDeleteSubscriptionHeaders:b}),h={parameterPath:"accept",mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Accept",type:{name:"String"}}},S={parameterPath:"$host",mapper:{serializedName:"$host",required:!0,type:{name:"String"}},skipEncoding:!0},P={parameterPath:"apiVersion",mapper:{defaultValue:"2018-08-31",isConstant:!0,serializedName:"api-version",type:{name:"String"}}},z={parameterPath:["options","requestId"],mapper:{serializedName:"x-ms-requestid",type:{name:"Uuid"}}},f={parameterPath:["options","correlationId"],mapper:{serializedName:"x-ms-correlationid",type:{name:"Uuid"}}},I={parameterPath:["options","continuationToken"],mapper:{serializedName:"continuationToken",type:{name:"String"}}},g={parameterPath:"subscriptionId",mapper:{serializedName:"subscriptionId",required:!0,type:{name:"Uuid"}}},E={parameterPath:["options","contentType"],mapper:{defaultValue:"application/json",isConstant:!0,serializedName:"Content-Type",type:{name:"String"}}},q={parameterPath:"body",mapper:p},O={parameterPath:"operationId",mapper:{serializedName:"operationId",required:!0,type:{name:"Uuid"}}},p={parameterPath:"body",mapper:c};class T{constructor(e){this.client=e}listSubscriptions(e){const t=this.listSubscriptionsPagingAll(e);return{next(){return t.next()},[Symbol.asyncIterator](){return this},byPage:()=>this.listSubscriptionsPagingPage(e)}}listSubscriptionsPagingPage(r){return t(this,arguments,function*(){var e=yield d(this._listSubscriptions(r));yield yield d(e.subscriptions||[]);let t=e.nextLink;for(;t;)e=yield d(this._listSubscriptionsNext(t,r)),t=e.nextLink,yield yield d(e.subscriptions||[])})}listSubscriptionsPagingAll(a){return t(this,arguments,function*(){var t,e;try{for(var r,i=s(this.listSubscriptionsPagingPage(a));!(r=yield d(i.next())).done;)yield d(yield*function(i){var a,e={};return t("next"),t("throw",function(e){throw e}),t("return"),e[Symbol.iterator]=function(){return this},e;function t(t,r){e[t]=i[t]?function(e){return(a=!a)?{value:d(i[t](e)),done:"return"===t}:r?r(e):e}:r}}(s(r.value)))}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=i.return)&&(yield d(e.call(i)))}finally{if(t)throw t.error}}})}resolve(e,t){t={xMsMarketplaceToken:e,options:a.operationOptionsToRequestOptionsBase(t||{})};return this.client.sendOperationRequest(t,C)}_listSubscriptions(e){e={options:a.operationOptionsToRequestOptionsBase(e||{})};return this.client.sendOperationRequest(e,v)}getSubscription(e,t){t={subscriptionId:e,options:a.operationOptionsToRequestOptionsBase(t||{})};return this.client.sendOperationRequest(t,R)}updateSubscription(e,t,r){r={subscriptionId:e,body:t,options:a.operationOptionsToRequestOptionsBase(r||{})};return this.client.sendOperationRequest(r,M)}deleteSubscription(e,t){t={subscriptionId:e,options:a.operationOptionsToRequestOptionsBase(t||{})};return this.client.sendOperationRequest(t,w)}listAvailablePlans(e,t){t={subscriptionId:e,options:a.operationOptionsToRequestOptionsBase(t||{})};return this.client.sendOperationRequest(t,x)}activateSubscription(e,t,r){r={subscriptionId:e,body:t,options:a.operationOptionsToRequestOptionsBase(r||{})};return this.client.sendOperationRequest(r,U)}_listSubscriptionsNext(e,t){t={nextLink:e,options:a.operationOptionsToRequestOptionsBase(t||{})};return this.client.sendOperationRequest(t,B)}}c=new a.Serializer(N,!1);const C={path:"/saas/subscriptions/resolve",httpMethod:"POST",responses:{200:{bodyMapper:r},400:{isError:!0},403:{isError:!0},404:{isError:!0},500:{isError:!0}},queryParameters:[P],urlParameters:[S],headerParameters:[h,z,f,{parameterPath:"xMsMarketplaceToken",mapper:{serializedName:"x-ms-marketplace-token",required:!0,type:{name:"String"}}}],serializer:c},v={path:"/saas/subscriptions/",httpMethod:"GET",responses:{200:{bodyMapper:o},403:{isError:!0},500:{isError:!0}},queryParameters:[P,I],urlParameters:[S],headerParameters:[h,z,f],serializer:c},R={path:"/saas/subscriptions/{subscriptionId}",httpMethod:"GET",responses:{200:{bodyMapper:n},403:{isError:!0},404:{isError:!0},500:{isError:!0}},queryParameters:[P],urlParameters:[S,g],headerParameters:[h,z,f],serializer:c},M={path:"/saas/subscriptions/{subscriptionId}",httpMethod:"PATCH",responses:{202:{headersMapper:y},400:{isError:!0},403:{isError:!0},404:{isError:!0},500:{isError:!0}},requestBody:q,queryParameters:[P],urlParameters:[S,g],headerParameters:[z,f,E],mediaType:"json",serializer:c},w={path:"/saas/subscriptions/{subscriptionId}",httpMethod:"DELETE",responses:{202:{headersMapper:b},400:{isError:!0},403:{isError:!0},404:{isError:!0},500:{isError:!0}},queryParameters:[P],urlParameters:[S,g],headerParameters:[z,f],serializer:c},x={path:"/saas/subscriptions/{subscriptionId}/listAvailablePlans",httpMethod:"GET",responses:{200:{bodyMapper:m},403:{isError:!0},404:{isError:!0},500:{isError:!0}},queryParameters:[P],urlParameters:[S,g],headerParameters:[h,z,f],serializer:c},U={path:"/saas/subscriptions/{subscriptionId}/activate",httpMethod:"POST",responses:{200:{},400:{isError:!0},403:{isError:!0},404:{isError:!0},500:{isError:!0}},requestBody:q,queryParameters:[P],urlParameters:[S,g],headerParameters:[z,f,E],mediaType:"json",serializer:c},B={path:"{nextLink}",httpMethod:"GET",responses:{200:{bodyMapper:o},403:{isError:!0},500:{isError:!0}},queryParameters:[P,I],urlParameters:[S,{parameterPath:"nextLink",mapper:{serializedName:"nextLink",required:!0,type:{name:"String"}},skipEncoding:!0}],headerParameters:[h,z,f],serializer:c};class k{constructor(e){this.client=e}listOperations(e,t){t={subscriptionId:e,options:a.operationOptionsToRequestOptionsBase(t||{})};return this.client.sendOperationRequest(t,D)}getOperationStatus(e,t,r){r={subscriptionId:e,operationId:t,options:a.operationOptionsToRequestOptionsBase(r||{})};return this.client.sendOperationRequest(r,F)}updateOperationStatus(e,t,r,i){i={subscriptionId:e,operationId:t,body:r,options:a.operationOptionsToRequestOptionsBase(i||{})};return this.client.sendOperationRequest(i,A)}}N=new a.Serializer(N,!1);const D={path:"/saas/subscriptions/{subscriptionId}/operations",httpMethod:"GET",responses:{200:{bodyMapper:l},400:{isError:!0},403:{isError:!0},404:{isError:!0},500:{isError:!0}},queryParameters:[P],urlParameters:[S,g],headerParameters:[h,z,f],serializer:N},F={path:"/saas/subscriptions/{subscriptionId}/operations/{operationId}",httpMethod:"GET",responses:{200:{bodyMapper:u},400:{isError:!0},403:{isError:!0},404:{isError:!0},500:{isError:!0}},queryParameters:[P],urlParameters:[S,g,O],headerParameters:[h,z,f],serializer:N},A={path:"/saas/subscriptions/{subscriptionId}/operations/{operationId}",httpMethod:"PATCH",responses:{200:{},400:{isError:!0},403:{isError:!0},404:{isError:!0},409:{isError:!0},500:{isError:!0}},requestBody:p,queryParameters:[P],urlParameters:[S,g,O],headerParameters:[z,f,E],mediaType:"json",serializer:N};class V extends a.ServiceClient{constructor(e,t){if(void 0===e)throw new Error("'credentials' cannot be null");var r;(t=t||{}).userAgent||(r=a.getDefaultUserAgentValue(),t.userAgent=`microsoft.marketplace.saas/1.0.0 ${r}`),t.credentialScopes||(t.credentialScopes=["20e940b3-4c77-4b0b-9a53-9e16a1b010a7/.default"]),super(e,t),this.requestContentType="application/json; charset=utf-8",this.baseUri=t.endpoint||"https://marketplaceapi.microsoft.com/api",this.$host=t.$host||"https://marketplaceapi.microsoft.com/api",this.apiVersion=t.apiVersion||"2018-08-31"}}e.SaaSAPI=class extends V{constructor(e,t){super(e,t),this.fulfillmentOperations=new T(this),this.subscriptionOperations=new k(this)}},Object.defineProperty(e,"__esModule",{value:!0})});